<html>
  <head>
    <meta charset="utf-8" />
    <title>timbre - JavaScript Library for Objective Sound Programming</title>
    <link type="text/css" rel="stylesheet" href="css/index.css" />
    <link type="text/css" rel="stylesheet" href="css/libs/prettify.css" />
    <link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Comfortaa:700">
  </head>
  <body>
    <canvas id="waveviewer"></canvas>
    <section id="body">
      <header style="margin:5px 0px 15px 0px">
        <h1 id="title"><a href="/timbre">timbre</a></h1>
        <span>JavaScript Library for Objective Sound Programming</span><br/>
      </header>
      
      <section id="description">
        
      </section>
      
      <section id="contents">
        <h3>Latest Version</h3>
        <div>
          (under developing)
        </div>
        
        <h3>Overview</h3>
        <div>
          <p>
            timbre is so easy, useful.
          </p>
          <button id="play0">play</button><button id="pause0">pause</button>
          <pre class="prettyprint">
T("*", T("sin", 880),
       T("tri", 8, 0.4).kr(),
       T("adsr", 500, 1500)).play();
          </pre>

          <button id="play1">play</button><button id="pause1">pause</button>
          <pre class="prettyprint">
function synth(freq) {

}
          </pre>
        </div>
        
        <h3>System Requirement</h3>
        <div>
          <ul>
            <li>Google Chrome 14.0- (Web Audio API)</li>
            <li>Mozilla Firefox 4.0- (Audio Data API)</li>
          </ul>
        </div>

        <h3>Examples</h3>
        <div>
          <ul>
            <li><a href="/examples/001_oscillators.html">001. Oscillators</a></li>
            <li><a href="/examples/002_rhythmsequencer.html">002. Rhythm Sequencer</a></li>
            <li><a href="/examples/003_loadwavfiles.html">003. Load wav files and decode</a></li>
          </ul>
        </div>
        
        <h3>References</h3>
        <div>
          Working
        </div>
        
        <h3>Author</h3>
        <div>
          <a href="https://twitter.com/#!/mohayonao" target="twitter">@mohayonao</a>
        </div>

        <footer>
          2012 timbre - JavaScript Library for Objective Sound Programming
        </footer>
      </section>
    </section>
  </body>
  <script type="text/javascript" src="js/libs/prettify.js"></script>
  <script type="text/javascript">prettyPrint();</script>
  <script type="text/javascript" src="timbre.js"></script>
  <script type="text/javascript" src="js/index.js"></script>
  <script type="text/javascript" src="js/waveviewer.js"></script>  
  <script type="text/javascript" src="js/libs/jquery.min.js"></script>
  <script type="text/javascript">
    $(function() {
        var viewer = new WaveViewer(timbre.sys.cell, 60, "waveviewer", 512, 256);
        
        timbre.addEventListener("on", function() {
            $("#title").css("color", "rgb(0, 136, 0)");
            viewer.start();
        });
        timbre.addEventListener("off", function() {
            $("#title").css("color", "rgb(136, 136, 136)");
            viewer.pause();
        });
        
        
        var list = [ ex1, ex2 ];
        list.forEach(function(ex, i) {
            var dac = ex.dac;
            dac.addEventListener("on" , function() { timbre.on();});
            dac.addEventListener("off", function() {
                if (list.every(function(ex) {return ex.dac.isOff;})) timbre.off();
            });
            $("#play"  + i).on("click", function() { ex.bang(); ex.play() ; });
            $("#pause" + i).on("click", function() { ex.pause(); });
        });
    });
  </script>
</html>
